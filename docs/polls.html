<!--
Polls feature for Watchlist Voting
Includes: HTML, CSS, JavaScript, and Supabase SQL (at the end inside this file as a comment)
Copy this file as polls.html next to your existing pages. Update any nav links as needed.
-->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Polls</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<style>
:root { color-scheme: dark; }
* { box-sizing: border-box; }
body { margin:0; background:#121212; color:#fff; font-family:system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
header { display:flex; align-items:center; justify-content:space-between; padding:12px 16px; position:sticky; top:0; background:rgba(18,18,18,.9); border-bottom:1px solid #222; z-index:20; }
h1 { font-size:1.05rem; margin:0; }
main { padding:16px; max-width:1040px; margin:0 auto; }
.card { background:#1e1e1e; border:1px solid #2a2a2a; border-radius:12px; padding:14px; box-shadow:0 2px 12px rgba(0,0,0,.25); }
.row { display:flex; gap:.5rem; align-items:center; flex-wrap:wrap; }
.row input, .row textarea { background:#0f0f0f; color:#fff; border:1px solid #333; border-radius:10px; padding:.6rem .7rem; }
.row textarea { width:100%; min-height:96px; }
.btn { padding:.6rem .9rem; border-radius:10px; border:1px solid #333; background:#1f2937; color:#fff; cursor:pointer; transition:opacity .15s ease; }
.btn:hover { background:#273244; }
.btn[disabled] { opacity:.6; cursor:not-allowed; }
.btn-cta { background:#2563eb; border-color:#2563eb; }
.btn-cta:hover { background:#1d4ed8; }
.btn-ghost { background:#111; }
.grid { display:grid; grid-template-columns: 1fr; gap:.75rem; margin-top:1rem; }
@media (min-width: 980px) { .grid { grid-template-columns: 1fr 1fr; } }


.poll { display:flex; flex-direction:column; gap:.6rem; background:#171717; border:1px solid #262626; border-radius:12px; padding:12px; }
.poll-head { display:flex; gap:.75rem; align-items:center; justify-content:space-between; }
.muted { color:#9aa0a6; font-size:.9rem; }
.title { font-weight:700; font-size:1rem; }
.sep { height:1px; background:#262626; margin:.25rem 0; }
.option { display:flex; align-items:center; justify-content:space-between; gap:.75rem; padding:.45rem .55rem; border:1px solid #2a2a2a; border-radius:10px; background:#141414; }
.option .left { display:flex; flex-direction:column; gap:.2rem; }
.chips { display:flex; flex-wrap:wrap; gap:.3rem; }
.chip { display:inline-flex; align-items:center; gap:.3rem; padding:.1rem .45rem; border:1px solid #333; border-radius:999px; font-size:.78rem; background:#0f0f0f; }
.me { border-color:#60a5fa; }
.ended { color:#fca5a5; }
.success { color:#86efac; }


.loading-veil { position: fixed; inset: 0; background: rgba(0,0,0,.45); display: none; align-items: center; justify-content: center; z-index: 50; backdrop-filter: blur(2px); }
.loading-box { background:#1d1d1d; border:1px solid #2a2a2a; border-radius:12px; padding:14px 16px; display:flex; align-items:center; gap:.75rem; box-shadow:0 6px 24px rgba(0,0,0,.35); }
.spinner { width:18px; height:18px; border:3px solid #2f2f2f; border-top-color:#60a5fa; border-radius:50%; animation: spin 0.8s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }


.section-title { margin:.25rem 0 .5rem 0; font-size:1rem; }
</style>
</head>
<body>
<header>
<h1>Polls</h1>
<div>
<button class="btn" onclick="location.href='members.html'">Back to dashboard</button>
<button class="btn" onclick="location.href='watchlist.html'">Watchlist</button>
<button class="btn danger" id="btnSignOut">Sign out</button>
</div>
</header>


<div id="loading" class="loading-veil" aria-hidden="true">
<div class="loading-box">
<div class="spinner" aria-label="Loading"></div>
<div id="loadingText">Loading, please wait</div>
</div>
</div>


<main>
<section class="card" style="margin-bottom:1rem;">
<h2 class="section-title">Create a poll</h2>
</html>
